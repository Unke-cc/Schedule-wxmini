# 课程打卡小程序 (ClockSSS)

一个基于微信小程序和云开发的课程管理与打卡系统，支持班级管理、任务发布、签到打卡、日程安排等功能。

## 📱 功能特性

### 🎯 核心功能
- **用户认证**：支持用户注册和登录
- **班级管理**：创建、加入、管理班级，支持成员审批
- **任务系统**：发布任务、查看任务详情、任务管理
- **签到打卡**：支持位置签到、签到记录查询和统计
- **日程管理**：课程表管理、日程提醒
- **消息通知**：支持订阅消息推送

### 👥 用户角色
- **学生**：加入班级、完成任务、签到打卡
- **教师**：创建班级、发布任务、管理学生、查看统计

## 🏗️ 技术架构

### 前端技术栈
- **框架**：微信小程序原生开发
- **UI组件**：自定义组件（日历、骨架屏等）
- **样式**：WXSS + 暗黑模式支持

### 后端技术栈
- **云开发**：微信云开发平台
- **云函数**：Node.js
- **数据库**：云开发数据库
- **存储**：云开发存储

## 📁 项目结构

```
clocksss/
├── cloudfunctions/          # 云函数目录
│   ├── addSchedule/         # 添加日程
│   ├── checkIn/             # 签到打卡
│   ├── createClass/         # 创建班级
│   ├── createTask/          # 创建任务
│   ├── getCheckRecords/     # 获取签到记录
│   ├── getCheckStatistics/  # 获取签到统计
│   ├── login/               # 用户登录
│   ├── register/            # 用户注册
│   └── ...
├── database/                # 数据库配置
├── miniprogram/             # 小程序前端代码
│   ├── components/          # 自定义组件
│   │   ├── calendar/        # 日历组件
│   │   └── skeleton/        # 骨架屏组件
│   ├── pages/               # 页面文件
│   │   ├── index/           # 首页
│   │   ├── login/           # 登录页
│   │   ├── register/        # 注册页
│   │   ├── class/           # 班级管理
│   │   ├── tasks/           # 任务管理
│   │   ├── schedule/        # 课程表
│   │   └── profile/         # 个人中心
│   ├── utils/               # 工具函数
│   ├── images/              # 图片资源
│   ├── app.js               # 小程序入口
│   ├── app.json             # 小程序配置
│   └── config.js            # 项目配置
└── project.config.json      # 项目配置文件
```

## 🚀 快速开始

### 环境要求
- 微信开发者工具
- Node.js 12.x 或更高版本
- 微信小程序开发账号

### 安装步骤

1. **克隆项目**
   ```bash
   git clone <repository-url>
   cd clocksss
   ```

2. **配置云开发环境**
   - 在微信开发者工具中打开项目
   - 开通云开发服务
   - 修改 `miniprogram/config.js` 中的环境ID

3. **部署云函数**
   - 在微信开发者工具中右键 `cloudfunctions` 目录
   - 选择「上传并部署：云端安装依赖」

4. **配置数据库**
   - 在云开发控制台创建相应的数据库集合
   - 配置数据库权限

5. **配置订阅消息**
   - 在微信公众平台申请订阅消息模板
   - 更新 `config.js` 中的模板ID

## 📊 数据库设计

### 主要集合
- **users**：用户信息
- **classes**：班级信息
- **tasks**：任务信息
- **checkRecords**：签到记录
- **schedules**：日程安排
- **messages**：消息记录

## 🔧 配置说明

### 云开发环境配置
```javascript
// miniprogram/config.js
const config = {
  envId: 'your-env-id',  // 替换为你的云开发环境ID
  templateIds: {
    scheduleReminder: 'template-id-1',    // 日程提醒模板ID
    checkInReminder: 'template-id-2'      // 未打卡提醒模板ID
  }
};
```

### 小程序配置
- **AppID**：`123123123`
- **项目名称**：课程打卡
- **基础库版本**：2.30.2

## 📱 页面功能

### 主要页面
- **首页**：显示今日任务、签到状态、快捷操作
- **任务页**：查看所有任务、任务详情、完成状态
- **课表页**：显示课程安排、日程管理
- **个人中心**：用户信息、设置、管理功能

### 班级管理
- 创建班级、编辑班级信息
- 班级详情、成员管理
- 加入班级、审批成员

## 🔐 权限说明

### 学生权限
- 查看已加入的班级
- 完成分配的任务
- 进行签到打卡
- 查看个人签到记录

### 教师权限
- 创建和管理班级
- 发布和管理任务
- 查看学生签到统计
- 导出签到记录
- 发送通知消息

## 📈 统计功能

- **签到统计**：按时间、班级、学生维度统计
- **任务完成率**：任务完成情况分析
- **数据导出**：支持导出Excel格式的签到记录

## 🔔 消息推送

支持以下订阅消息：
- 日程提醒：课程开始前推送提醒
- 未打卡提醒：提醒学生及时签到

## 🤝 贡献指南

1. Fork 本仓库
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 打开 Pull Request

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情

## 📞 联系方式

如有问题或建议，请通过以下方式联系：
- 提交 Issue
- 发送邮件至：[your-email@example.com]

## 🙏 致谢

感谢所有为这个项目做出贡献的开发者们！

---

**注意**：使用前请确保已正确配置云开发环境和相关权限设置。
